import tkinter as tk
from tkinter import ttk, messagebox

# Sample book database based on aesthetic profiles
book_db = {
    ("blue", "jazz", "melancholy", "night", "wine"): ("The Great Gatsby", "A moody classic for a midnight jazz session with wine in hand."),
    ("red", "rock", "energized", "afternoon", "coffee"): ("The Catcher in the Rye", "A fiery tale for an afternoon blast of caffeine and rebellion."),
    ("green", "classical", "calm", "morning", "tea"): ("Pride and Prejudice", "Something refined for a tranquil tea-filled morning."),
    ("yellow", "pop", "happy", "daytime", "lemonade"): ("Eleanor & Park", "Sweet and bubbly‚Äîjust like your sunny disposition."),
    ("black", "blues", "lonely", "late night", "whiskey"): ("Norwegian Wood", "For nights when the blues run deep and whiskey burns slow."),
}

# Options for dropdowns
colors = ["blue", "red", "green", "yellow", "black"]
music = ["jazz", "rock", "classical", "pop", "blues"]
moods = ["melancholy", "energized", "calm", "happy", "lonely"]
times = ["morning", "afternoon", "daytime", "night", "late night"]
drinks = ["tea", "coffee", "lemonade", "wine", "whiskey"]

class BookBartenderApp:
    def __init__(self, root):
        self.root = root
        root.title("Book Bartender")
        root.geometry("400x400")

        self.create_widgets()

    def create_widgets(self):
        ttk.Label(self.root, text="Welcome to the Book Bartender!", font=("Helvetica", 16)).pack(pady=10)

        self.choices = {}
        self.create_dropdown("Choose a color:", colors, "color")
        self.create_dropdown("Pick a music genre:", music, "music")
        self.create_dropdown("What's your mood?", moods, "mood")
        self.create_dropdown("Time of day:", times, "time")
        self.create_dropdown("Choose a drink:", drinks, "drink")

        ttk.Button(self.root, text="Get Recommendation", command=self.recommend_book).pack(pady=20)

    def create_dropdown(self, label_text, options, key):
        ttk.Label(self.root, text=label_text).pack()
        var = tk.StringVar()
        dropdown = ttk.Combobox(self.root, textvariable=var, values=options, state="readonly")
        dropdown.pack()
        self.choices[key] = var

    def recommend_book(self):
        key = tuple(self.choices[k].get() for k in ["color", "music", "mood", "time", "drink"])

        if all(key):
            book, rationale = book_db.get(key, ("a mystery book", "Your vibes are so unique, I had to mix a special one just for you."))
            message = f"üç∏ Here's your book: *{book}*\n\nüìñ Rationale: {rationale}"
            messagebox.showinfo("Your Recommendation", message)
        else:
            messagebox.showwarning("Incomplete", "Please fill in all the fields!")

if __name__ == "__main__":
    root = tk.Tk()
    app = BookBartenderApp(root)
    root.mainloop()
